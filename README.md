# MuJoCo MPC 汽车仪表盘项目

## 项目信息
- **学号**：232011031
- **姓名**：沙星池
- **班级**：计科2301
- **完成日期**：2025年12月25日

## 项目概述
本项目基于MuJoCo MPC物理引擎，实现了一个完整的汽车仪表盘可视化系统。系统从3D物理仿真中实时获取车辆状态数据，包括速度、转速、位置等信息，并通过精美的OpenGL 2D覆盖层实时渲染出专业的汽车仪表盘界面。项目实现了速度表、转速表、油量显示、温度显示等功能，所有数据与物理仿真实时同步，展现了物理仿真与图形界面的完美结合。

## 环境要求
- 操作系统：Ubuntu 22.04 / macOS 12+ / Windows 10+ (WSL2推荐)
- 编译器：gcc 11.3.0+ / clang 14.0+
- CMake：3.22.1+
- OpenGL：3.3+
- 依赖库：GLFW3, GLEW, Eigen, OpenBLAS

## 编译和运行

### 编译步骤
    cd mujoco_mpc
    mkdir -p build && cd build
    cmake .. -DCMAKE_BUILD_TYPE=Release
    cmake --build . -j4

### 运行
    ./bin/mjpc --task=SimpleCar

## 功能说明

### 已实现功能

    ✅ 实时速度表（0-10 km/h范围）
    
    ✅ 实时转速表（0-2000 RPM范围）
    
    ✅ 油量显示系统（百分比，随时间消耗）
    
    ✅ 温度显示系统（基于转速和速度计算）
    
    ✅ 自动换挡逻辑（1-6档）
    
    ✅ 颜色编码警告区域（绿/黄/红区）
    
    ✅ 仪表盘物理效果（开口刻度、金属质感）

## ⽂件说明

### 文件结构
    mujoco_mpc/
    ├── mjpc/
    │   ├── tasks/
    │   │   └── simple_car/
    │   │       ├── dashboard.h          # 仪表盘数据提取和逻辑
    │   │       ├── simple_car.h         # 任务定义头文件
    │   │       ├── simple_car.cc        # 任务实现
    │   │       ├── car_model.xml        # 车辆模型定义
    │   │       └── task.xml             # 任务场景定义
    │   └── simulate.cc                  # 仪表盘渲染集成
    └── app.cc                           # 主程序入口

### 核心文件说明
1.dashboard.h：仪表盘数据提取器和数据结构定义
- 实现DashboardDataExtractor类，从MuJoCo仿真中提取数据
    
- 包含复杂的转速计算和换挡逻辑
    
- 实现油量和温度模拟系统

2.simulate.cc：仪表盘渲染实现

- 完整的OpenGL 2D渲染系统 
- 圆形仪表盘绘制函数
- 智能刻度布局算法
- 数码管风格数字显示

3. car_model.xml：车辆物理模型

- 详细的车身和车轮几何定义
- 物理属性和关节配置
- 执行器和传感器定义
    
## 使用说明
-  运行程序后，将看到3D物理仿真场景 
    
-  仪表盘以2D覆盖层形式显示在窗口左上角 
    
-  速度表和转速表指针会随车辆运动实时变化 
    
-  油量会随时间逐渐消耗（模拟油耗） 
    
-  温度会根据发动机工作状态变化
    
-  使用键盘控制车辆：
     W/S：前进/后退
     A/D：转向
     空格：暂停/继续

## 技术特点

1. 数据驱动：所有仪表数据均来自物理仿真

2. 实时性：60FPS的渲染更新频率

3. 真实性：基于真实物理的转速和换挡计算

4. 美观性：专业的仪表盘设计和视觉效果

5. 可扩展性：模块化设计，易于添加新功能

## 已知问题

-  在极高帧率下可能出现轻微的指针抖动
-  某些显卡驱动可能需要在窗口大小改变后重新调整仪表盘位置
-  油量消耗模拟相对简单，未考虑复杂驾驶条件

## 参考资料

-  MuJoCo官方文档：https://mujoco.readthedocs.io/
-  OpenGL编程指南
-  汽车仪表盘设计规范
-  Google DeepMind MuJoCo MPC源代码
-  
## 开源地址
链接：https://github.com/167648384/-MuJoCo-MPC-
